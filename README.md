# CollaTalk - í˜‘ì—… ì†Œí†µ ì•±(ê°œë°œ ì§„í–‰ì¤‘)

<p>
    <img src="https://github.com/user-attachments/assets/bebf7eb2-75bb-4b6a-b04d-1778ca03a28a" align="center" width="100%"/>
</p>

<br/>

## CollaTalk

- ì„œë¹„ìŠ¤ ì†Œê°œ: í˜‘ì—… ì†Œí†µ ì•±
- ê°œë°œ ì¸ì›: 1ì¸
- ê°œë°œ ê¸°ê°„: 24.07.05 ~ **(ì§„í–‰ì¤‘)**
- ê°œë°œ í™˜ê²½
  - ìµœì†Œë²„ì „: iOS 16
  - Portrait Orientation ì§€ì›
  - ë¼ì´íŠ¸ ëª¨ë“œ ì§€ì›
- ì‚¬ìš© í˜‘ì—… íˆ´
  - Jira, Swagger, Figma

<br/>

## ğŸ’ª ì£¼ìš” ê¸°ëŠ¥

- íšŒì› ì¸ì¦
  - íšŒì› ê°€ì…
  - ë¡œê·¸ì¸ / ì†Œì…œ ë¡œê·¸ì¸(ì¹´ì¹´ì˜¤ / ì• í”Œ)
  - ë¡œê·¸ì•„ì›ƒ
- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¸°ëŠ¥
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„± / ì¡°íšŒ / í¸ì§‘ / ì‚­ì œ
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ì ë³€ê²½
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í‡´ì¥
  - ë©¤ë²„ ì´ˆëŒ€
- ì±„ë„ ê¸°ëŠ¥
  - ì±„ë„ ìƒì„± / ì¡°íšŒ / íƒìƒ‰ / í¸ì§‘ / ì‚­ì œ
  - ì±„ë„ ê´€ë¦¬ì ë³€ê²½
  - ì±„ë„ í‡´ì¥
  - ì±„ë„ ì±„íŒ… ìƒì„±
- DM ê¸°ëŠ¥
  - ì±„íŒ… ìƒì„±
  - ì‹¤ì‹œê°„ ì±„íŒ… ì‘ë‹µ
- í”„ë¡œí•„ ì¡°íšŒ / í¸ì§‘
- ì½”ì¸ ê²°ì œ ê¸°ëŠ¥

<br/>

## ğŸ›  ê¸°ìˆ  ì†Œê°œ

- SwiftUI, Swift Concurrency, Combine
- Redux Pattern, Router / Coordinator Pattern, Repository Pattern
- Moya, LocalizedError, NSCache
- Realm, IAMPort, SocketIO, UserDefaults
- KakaoOpenSDK(Kakao Login) / AuthenticationServices(Apple Login)

<br/>

## ğŸ’» ê¸°ìˆ  ì ìš©

- **Redux** íŒ¨í„´ì„ í†µí•´ ì¤‘ì•™ ì§‘ì¤‘í™”ëœ ìƒíƒœ ê´€ë¦¬ì™€ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ìœ¼ë¡œ í™•ì¥ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ì„±ì„ í™•ë³´
- **NSCache**ë¥¼ í™œìš©í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ë°ì´í„° ìºì‹±ê³¼ ë¶ˆí•„ìš”í•œ ì´ë¯¸ì§€ ë°ì´í„° ì¬ ë‹¤ìš´ë¡œë“œ ë°©ì§€
- **LocalizedError** í”„ë¡œí† ì½œ ì¤€ìˆ˜ë¥¼ í†µí•œ ì§ê´€ì ì´ê³  í˜„ì§€í™”ëœ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë©”ì‹œì§€ ì œê³µ
- **Coordinator** íŒ¨í„´ì„ í™œìš©í•œ ì†Œì…œ ë¡œê·¸ì¸ êµ¬í˜„ìœ¼ë¡œ ì±…ì„ ë¶„ë¦¬
- **Realm**ì„ í™œìš©í•œ ì±„íŒ… ë‚´ì—­ ì €ì¥ DB êµ¬í˜„
- ì—¬ëŸ¬ ê²°ì œ ëŒ€í–‰ì‚¬(PG) ë° ê°„í¸ê²°ì œ ë¡œì§ì„ WebView ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ **ê²°ì œ ê¸°ëŠ¥** ë„ì…
- Navigation Stackì„ **Router**ë¡œ êµ¬í˜„í•˜ì—¬ í™”ë©´ ì „í™˜ ê´€ë¦¬
- **Moya**ì˜ **Router** íŒ¨í„´ êµ¬í˜„ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ í†µì‹  ëª¨ë“ˆí™”
- **PluginType** í”„ë¡œí† ì½œ ì¤€ìˆ˜í•˜ëŠ” Plugin êµ¬ì„±ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ Logging êµ¬í˜„
- Realmì˜ **Repository** íŒ¨í„´ êµ¬ì„±ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ë¡œì§ ì¶”ìƒí™”

<br/>

## âš™ï¸ ì•„í‚¤í…ì²˜

<img src="https://github.com/user-attachments/assets/8c17a6f0-39e8-4800-bcba-18453884d6a5" align="image" width="100%"/>

<br/>

<br/>

## ğŸ”¥ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1. window ê³„ì¸µì„ í™œìš©í•œ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ êµ¬í˜„

ë¬¸ì œìƒí™©

- í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ êµ¬í˜„ ì‹œ sheetë¡œ ìƒˆë¡œìš´ ë·°ë¥¼ ë„ìš°ê±°ë‚˜ í™”ë©´ ì „í™˜ ì‹œ í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ê°€ ê°€ë ¤ì§

<br/>

ë¬¸ì œ ì›ì¸ íŒŒì•…

- ì¼ì •í•œ ë·° ê³„ì¸µì—ì„œë§Œ í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ê°€ í•´ë‹¹ í•´ë‹¹ ë·°ì—ë§Œ ì¢…ì†ë˜ì–´ ë¬¸ì œ ë°œìƒ

<br/>

í•´ê²°ë°©ë²•

- Alertì°½ì²˜ëŸ¼ ìƒˆë¡œìš´ ìƒìœ„ ê³„ì¸µì˜ windowë¥¼ ìƒì„±í•˜ì—¬ ì–´ëŠ í™”ë©´ì´ë˜ í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ ì°½ì´ ì¼ì •í•˜ê²Œ í‘œì‹œë˜ë„ë¡ êµ¬í˜„

  <details>
    <summary><b>ì½”ë“œ</b></summary>
    <div markdown="1">

  ```swift
  final class WindowProvider: ObservableObject {

      private var toastMessageWindow: UIWindow?

      /// í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ í‘œì‹œ í•¨ìˆ˜
      func showToast(message: String, duration: Double = 2.5) {
          if let scene = UIApplication.shared.connectedScenes.first as? UIWindowScene {
              toastMessageWindow = UIWindow(windowScene: scene)
              toastMessageWindow?.windowLevel = .statusBar
          }

          guard let toastMessageWindow = toastMessageWindow else { return }

          /// í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ window ìƒì„±
          let hostingController = UIHostingController(rootView: ToastView(message: message))
          hostingController.view.backgroundColor = .clear

          toastMessageWindow.rootViewController = hostingController
          toastMessageWindow.makeKeyAndVisible()

          /// í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ í¬ê¸°ì— ë”°ë¥¸ window í¬ê¸° ë™ì  ë³€í™”
          let targetSize = hostingController.sizeThatFits(
              in: CGSize(
                  width: UIScreen.main.bounds.width - 40,
                  height: CGFloat.greatestFiniteMagnitude
              )
          )

          toastMessageWindow.frame = CGRect(
              x: (UIScreen.main.bounds.width - targetSize.width) / 2,
              y: UIScreen.main.bounds.height - targetSize.height - 80,
              width: targetSize.width,
              height: targetSize.height
          )

          DispatchQueue.main.asyncAfter(deadline: .now() + duration) { [weak self] in
              guard let self else { return }
              dismissToast()
          }
      }

      /// í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ ë‹«ëŠ” í•¨ìˆ˜
      private func dismissToast() {
          toastMessageWindow?.isHidden = true
          toastMessageWindow = nil
      }
  }
  ```

    </div>

  </details>

<br/>

### 2. SwiftUI ë²„ì „ ëŒ€ì‘ - onChange, cornerRadius Modifier

ë¬¸ì œìƒí™©

- í”„ë¡œì íŠ¸ íƒ€ì¼“ ìµœì†Œ ë²„ì „ iOS16 êµ¬ì„±ìœ¼ë¡œ onChange Modifierì™€ cornerRadius Modifierì˜ ì‚¬ìš©ì´ ë¶ˆí¸

  - iOS17 ê¸°ì¤€ìœ¼ë¡œ onChange Modifierì˜ íŒŒë¼ë¯¸í„°ê°€ ë‹¤ë¦„

    ```swift
    // iOS17ì´ìƒ
    func onChange<V>(
      of value: V,
      initial: Bool = false,
      _ action: @escaping (V, V) -> Void
    ) -> some View where V : Equatable

    // iOS17ì´í•˜
    func onChange<V>(
      of value: V,
      perform action: @escaping (V) -> Void
    ) -> some View where V : Equatable
    ```

  <br/>

  - cornerRadius ModifierëŠ” iOS18ë¶€í„° deprecated ë¨

  <br/>

ë¬¸ì œ ì›ì¸ íŒŒì•…

- ê° ë²„ì „ì— ë§ëŠ” onChange Modifierì™€ cornerRadius Modifierì˜ ì¬êµ¬ì„± í•„ìš”

<br/>

í•´ê²°ë°©ë²•

- onChange Modifier ë²„ì „ë³„ ëŒ€ì‘

  <details>
    <summary><b>ì½”ë“œ</b></summary>
    <div markdown="1">

  ```swift
  struct OnChangeModifier<Value: Equatable>: ViewModifier {

    let value: Value
    let action: (Value) -> Void

    func body(content: Content) -> some View {
        if #available(iOS 17.0, *) {
            // iOS17ì´ìƒ ëŒ€ì‘
            content
                .onChange(of: value) { _, newValue in
                    action(newValue)
                }
        } else {
            // iOS17ì´í•˜ ëŒ€ì‘
            content
                .onChange(of: value, perform: { newValue in
                    action(newValue)
                })
        }
    }
  }

  extension View {
      func onChange<Value: Equatable>(
          of value: Value,
          action: @escaping (Value) -> Void
      ) -> some View {
          modifier(OnChangeModifier(value: value, action: action))
      }
  }
  ```

  </div>
  </details>

- ëª¨ë“  ë²„ì „ ëŒ€ì‘ ê°€ëŠ¥í•œ cornerRadius Modifier êµ¬í˜„

  <details>
    <summary><b>ì½”ë“œ</b></summary>
    <div markdown="1">

  ```swift
  struct RoundedCorner: Shape {
    var radius: CGFloat = .infinity
    var corners: UIRectCorner = .allCorners

    func path(in rect: CGRect) -> Path {
        let path = UIBezierPath(
            roundedRect: rect,
            byRoundingCorners: corners,
            cornerRadii: CGSize(width: radius, height: radius)
        )

        return Path(path.cgPath)
    }
  }

  extension View {
      func cornerRadius(_ radius: CGFloat, corners: UIRectCorner) -> some View {
          clipShape(RoundedCorner(radius: radius, corners: corners))
      }
  }
  ```

  </div>
  </details>
